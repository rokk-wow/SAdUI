# AI Assistant Instructions for SAdUI Project

## Project Overview
This is a **World of Warcraft Beta addon** (version 11.2.x/12.0.x) that customizes the default UI. The Beta environment has **significant API changes** that break many patterns from previous expansions.

## Critical Guidelines

### 1. Always Consult the Beta Guide
**Before making any changes**, review `WOW_BETA_ADDON_DEVELOPMENT_GUIDE.md` for:
- Understanding FStack screenshots (look for SOURCE line and mouse cursor position)
- Beta-specific API changes (C_CooldownViewer, C_Spell, C_UnitAuras, etc.)
- Frame structure differences between Beta and Live
- Deprecated APIs that no longer exist in Beta

### 2. FStack Screenshot Interpretation
When the user provides FStack screenshots:
- **Check the SOURCE line** to identify which addon creates the frame
- **Look at the mouse cursor** to see exactly what UI element they're referencing
- Frames may have different structures than expected (e.g., `child.Cooldown` not `child.cooldown`)
- Essential Cooldowns ≠ Buff Icon Viewer ≠ Action Bars (they're separate systems)

### 3. Beta API Considerations
- Many traditional APIs are deprecated or removed
- Use `C_*` namespace functions (C_Spell, C_SpellBook, C_UnitAuras, etc.)
- Spell identifiers now accept IDs, names, or links
- Aura system is instance-based with `auraInstanceID`
- `Region:ClearAllPoints()` immediately invalidates measurements
- Combat log functions are mostly eliminated

### 4. Code Style
- Use descriptive variable names
- Add comments explaining Beta-specific workarounds
- Test frame existence before accessing child properties
- Use EventRegistry for dynamic frame updates when applicable

### 5. Testing Reminders
- Remind user to test with `/reload` in-game
- Beta behavior may differ from documentation
- Frame structures should be verified with FStack if issues occur

## Common Pitfalls to Avoid
1. ❌ Don't assume frame structures match Live WoW
2. ❌ Don't use deprecated APIs (GetSpellInfo, UnitAura, etc.)
3. ❌ Don't confuse different cooldown viewers (Essential vs Buff Icon vs Action Bars)
4. ❌ Don't call GetWidth/GetHeight after ClearAllPoints
5. ❌ Don't target action bars when user wants cooldown viewers

## Helpful Files
- `development_guide.md` - Comprehensive Beta API reference
- `SAdUI.lua` - Main addon code
- `Localization.lua` - Localization strings
- `.dev/deploy.ps1` - Deployment script to WoW addons folder

## Deployment
After making changes, user can run `.\.dev\deploy.ps1` to copy the addon to their WoW folder and test in-game.
